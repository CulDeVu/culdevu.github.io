<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Failures in GI-land</title>
  <meta name="description" content="[sort description and key words to shove in meta tags]
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://yourdomain.com/blog/2015/failures-in-gi-land/">
  <link rel="alternate" type="application/rss+xml" title="CulDeVu" href="http://yourdomain.com/feed.xml">
</head>


  <body>
  
    <!-- <span class="sidebar">
        hey there
    </span> -->
    <span class="sidebar-color">
    </span>
    
    <span class="content">
        
        <span class="sidebar-content">
            <span class="site-title">
    CulDeVu
</span>

<a class="nav-button" href="/">
    Home
</a>

    

    
        <a class="nav-button" href=" /portfolio/ ">
            Portfolio
        </a>
    

    
        <a class="nav-button" href=" /resume/ ">
            Resume
        </a>
    

    
        <a class="nav-button" href=" /about/ ">
            About
        </a>
    

    

    
        <a class="nav-button" href=" /about/ ">
            Posts
        </a>
    

    


<p>
    <a href="https://github.com/culdevu">
        <span class="social-media-container"><svg width="100%" height="100%" viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span>
    </a>
    <a href="https://twitter.com/culdevu">
        <span class="social-media-container"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span>
    </a>
    <a href="/feed.xml">
        <span class="social-media-container"><svg height="56.693px" id="Layer_1" version="1.1" viewBox="0 0 56.693 56.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.428,31.085c6.19,0,12.009,2.418,16.382,6.816c4.381,4.398,6.793,10.256,6.793,16.492h9.539  c0-18.113-14.676-32.848-32.714-32.848V31.085z M3.443,14.174c22.061,0,40.01,18.047,40.01,40.231h9.539  c0-27.445-22.229-49.77-49.549-49.77V14.174z M16.634,47.741c0,3.648-2.959,6.607-6.607,6.607S3.42,51.39,3.42,47.741  c0-3.65,2.958-6.607,6.606-6.607S16.634,44.091,16.634,47.741z"/></svg></span>
    </a>
</p>

<hr />
<br />

<p>
    <h2>Hello there!</h2>
    <p>
        [insert short description about me and what i do. make sure 
        that it's conveyed that this is a personal site and i'm available for 
        hire whenever someone shows an interest]
    </p>
</p>

<hr />
<br />

<p>
    maybe have a thingy where i'm like "look at all my old posts and shit!"
    or maybe have one of those "sort posts by catagory" things that are all the rage
</p>

        </span>
        
        <span class="content-wrapper">
            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Failures in GI-land</h1>
    <p class="post-meta"><time datetime="2015-07-20T00:00:00-07:00" itemprop="datePublished">Jul 20, 2015</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>It’s been quite a while.</p>

<p>So I’ve been working on life/jobs/family/etc the past couple months. A couple weeks ago, however, I decided to implement a type of arbitrary BRDF sampling based on factoring large matrices, found here: http://gfx.cs.princeton.edu/proj/brdf/brdf.pdf</p>

<p>The idea is to convert the BRDF into a series of matrix representations in such a way that</p>

<p>[attachment=28227:CodeCogsEqn (1).gif]</p>

<p>, where Fl, ul, and vl are matrices that depend on outgoing direction, half angle azimuth, and half angle zenith about surface normal, respectively. Now that the functions for half angle azimuth and zenith are separated out, it’s trivial to construct a probability density function based on each. From then on, it’s the whole uniform random number -&gt; CDF -&gt; random ray thing like we’re used to. The PDF is defined by</p>

<p>[attachment=28229:CodeCogsEqn (2).gif]</p>

<p>, where that last funky term is the Jacobian between half angle representation and normal paths.</p>

<p>Pretty Pictures and Opinions</p>

<p>[attachment=28231:ex2.jpg]
[Left: factored BRDF representation, Right: Path traced reference, 200 samples each]</p>

<p>Okay. enough math. On to my personal thoughts. (Just as a warning, I’ve checked and re-checked my math a hundred times, so I don’t think anything is wrong. If it is, though, be sure to sufficiently embarrass me in the comments Posted Image )</p>

<p>So. The big issue is that, while the representation is extremely good at importance sampling shiny materials, it does so at the expense of accurately representing more lambertian properties. The effect can be seen when only one bounce is traversed:</p>

<p>[attachment=28230:ex1.jpg]
[Left: 256 u terms, 128 v terms, Middle: path traced reference, Right: 512 u terms, 256 v terms, all images rendered with 200 samples]
(btw, the blue ball is the only thing in the picture that new material is applied to here. In case you couldn’t tell.)</p>

<p>This issue arises because of its discrete nature. In order to get a good enough representation of the BRDF to sample it in this manner, you have to throw more and more samples at the BRDF. In this type of representation, a pure mirror would work very well, and diffuse materials would work less well, because this representation prefers more jagged BRDFs that so that it can sample the correct lobe. Otherwise, it has to make approximations at to what the CDF is, in the same way that a Euler integrator has issues because of regular sampling that doesn’t capture the essence of the function. If that makes sense Posted Image A graph of what this looks like might be something like</p>

<p>[attachment=28232:lolz.jpg]</p>

<p>I could show some close-ups like in normal graphics papers, but this journal software is really kicking my ass. I’d like to point out my solution of inserting periods between every paragraph in order to keep them from slamming into each other every time i press the edit button Posted Image</p>

<p>Welp. Hoped you liked it. The factored representation is still fantastic if you want to store measured BRDF data, but it doesn’t suit my needs for an actual path tracer. Oh well. I’m bound to find some other snazzy graphics paper to try to implement soon Posted Image</p>

<p>See yah!</p>

  </div>

</article>

        </span>

    </span>

    <!-- <footer class="site-footer">

  <div class="wrapper">
  
    <div>
        Copyright © 2015 CulDeVu
    </div>
    
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>CulDeVu</li>
          <li><a href="mailto:culdevu@gmail.com">culdevu@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            Include file 'icon-github.html username=site.github_username' contains invalid characters or sequences
          </li>
          

          
          <li>
            Include file 'icon-twitter.html username=site.twitter_username' contains invalid characters or sequences
          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>[sort description and key words to shove in meta tags]
</p>
      </div>
    </div>

  </div>

</footer>
 -->

  </body>

</html>
